# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: Chunked-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ LLM

**–î–∞—Ç–∞:** 2026-01-24
**–í–µ—Ä—Å–∏—è:** 1.0
**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ (CSV, JSON, LOG) —á–µ—Ä–µ–∑ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏ —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ—Ç LLM.

---

## 1. –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1.1 –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

```
–ë–æ–ª—å—à–æ–π —Ñ–∞–π–ª (50K —Å—Ç—Ä–æ–∫)
    ‚Üì
–†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ N —á–∞–Ω–∫–æ–≤ –ø–æ 500 —Å—Ç—Ä–æ–∫
    ‚Üì
–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è/–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞ —á–µ—Ä–µ–∑ LLM
    ‚Üì
–°–±–æ—Ä –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (JSON)
    ‚Üì
–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è (–≥—Ä—É–ø–ø—ã –ø–æ 10 ‚Üí —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
    ‚Üì
–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### 1.2 –ö–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è chunked-–æ–±—Ä–∞–±–æ—Ç–∫–∞

**–¢—Ä–∏–≥–≥–µ—Ä:** –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ > 1000 —Å—Ç—Ä–æ–∫

- **–§–∞–π–ª—ã ‚â§1000 —Å—Ç—Ä–æ–∫:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º –∫ LLM (—Ç–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- **–§–∞–π–ª—ã >1000 —Å—Ç—Ä–æ–∫:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ chunked-—Ä–µ–∂–∏–º–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ù–µ—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ —Ç–∏–ø—É –≤–æ–ø—Ä–æ—Å–∞

---

## 2. –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏ (Chunking Strategy)

### 2.1 –†–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞

**–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä:** 500 —Å—Ç—Ä–æ–∫ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è CSV, LOG, TXT
- –î–ª—è JSON —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ (—Å–º. 2.3)

### 2.2 –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –¥–ª—è –æ–≥—Ä–æ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–ü—Ä–∞–≤–∏–ª–æ:**
```python
if total_lines > 50_000:
    chunk_size = 1000  # –í–º–µ—Å—Ç–æ 500
```

**–¶–µ–ª—å:** –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM –¥–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤.

### 2.3 –°–ø–µ—Ü–∏—Ñ–∏–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

#### CSV
```python
# 1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –æ–¥–∏–Ω —Ä–∞–∑ –≤ –Ω–∞—á–∞–ª–µ
delimiter = csv.Sniffer().sniff(first_1000_bytes).delimiter

# 2. –î–æ–±–∞–≤–ª—è—Ç—å header row –≤ –∫–∞–∂–¥—ã–π —á–∞–Ω–∫
for chunk in chunks:
    chunk_with_header = [header_row] + chunk[start:end]

# –¶–µ–ª—å: LLM –≤–∏–¥–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –≤ –∫–∞–∂–¥–æ–º —á–∞–Ω–∫–µ
```

#### JSON
```python
# –ü–∞—Ä—Å–∏—Ç—å –≤–µ—Å—å JSON –≤ memory
data = json.load(file)

# –†–µ–∑–∞—Ç—å –ø–æ top-level —ç–ª–µ–º–µ–Ω—Ç–∞–º/–æ–±—ä–µ–∫—Ç–∞–º –º–∞—Å—Å–∏–≤–∞
if isinstance(data, list):
    chunks = [data[i:i+500] for i in range(0, len(data), 500)]
elif isinstance(data, dict):
    # –î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤: —Ä–∞–∑–¥–µ–ª—è—Ç—å –∫–ª—é—á–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º
    keys = list(data.keys())
    chunks = [{k: data[k] for k in keys[i:i+500]} for i in range(0, len(keys), 500)]
```

**–ö–æ–º–ø—Ä–æ–º–∏—Å—Å:** –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ–≥–æ JSON –≤ –ø–∞–º—è—Ç—å –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è.

#### LOG / TXT
```python
# –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ —Å—Ç—Ä–æ–∫–∞–º
chunks = [lines[i:i+500] for i in range(0, len(lines), 500)]
```

---

## 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞–Ω–∫–æ–≤

### 3.1 –ü—Ä–æ–º–ø—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–∞:**
```
–¢—ã ‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫ –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¢–û–õ–¨–ö–û —ç—Ç–æ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç –¥–∞–Ω–Ω—ã—Ö.

–í–ê–ñ–ù–û: –í–µ—Ä–Ω–∏ –æ—Ç–≤–µ—Ç –°–¢–†–û–ì–û –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
{
  "count": <—á–∏—Å–ª–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤>,
  "items": [<–Ω–∞–π–¥–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ>],
  "summary": "<–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ>"
}

–î–ê–ù–ù–´–ï (—á–∞—Å—Ç—å {chunk_num}/{total_chunks}):
<chunk_content>

–í–û–ü–†–û–°:
{user_question}

–í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û JSON, –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.
```

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
- **–û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π:** –û–¥–Ω–∞ –∑–∞–¥–∞—á–∞ –Ω–∞ —á–∞–Ω–∫
- **–°—Ç—Ä–æ–≥–∏–π —Ñ–æ—Ä–º–∞—Ç:** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è JSON-—Å—Ö–µ–º–∞
- **–ë–µ–∑ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏:** –ù–∏–∫–∞–∫–∏—Ö —Å–ª–æ–∂–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è –º–∞–ª–µ–Ω—å–∫–æ–π –º–æ–¥–µ–ª–∏ (qwen2.5:0.5b)

### 3.2 Few-shot –ø—Ä–∏–º–µ—Ä—ã

–î–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ –º–∞–ª–µ–Ω—å–∫–æ–π –º–æ–¥–µ–ª–∏ –¥–æ–±–∞–≤–ª—è–µ–º 1-2 –ø—Ä–∏–º–µ—Ä–∞:

```
–ü–†–ò–ú–ï–†:
–í–æ–ø—Ä–æ—Å: –°–∫–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫ ERROR?
–î–∞–Ω–Ω—ã–µ: [–ª–æ–≥ —Å 3 ERROR]
–û—Ç–≤–µ—Ç: {"count": 3, "items": [], "summary": "–ù–∞–π–¥–µ–Ω–æ 3 –æ—à–∏–±–∫–∏ ERROR"}

–¢–í–û–Ø –ó–ê–î–ê–ß–ê:
...
```

### 3.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ LLM

**–ü—Ä–æ–±–ª–µ–º–∞:** LLM –≤–µ—Ä–Ω—É–ª–∞ –Ω–µ JSON, –∞ —Ç–µ–∫—Å—Ç "—è –Ω–∞—à–ª–∞ –ø—Ä–∏–º–µ—Ä–Ω–æ 5 –æ—à–∏–±–æ–∫"

**–†–µ—à–µ–Ω–∏–µ: Retry —Å –±–æ–ª–µ–µ –∂—ë—Å—Ç–∫–∏–º –ø—Ä–æ–º–ø—Ç–æ–º**
```python
max_retries = 2

for attempt in range(max_retries):
    response = call_llm(prompt)

    try:
        result = json.loads(response)
        return result  # –£—Å–ø–µ—Ö
    except json.JSONDecodeError:
        if attempt < max_retries - 1:
            # Retry —Å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–º –ø—Ä–æ–º–ø—Ç–æ–º
            prompt = make_stricter_prompt(original_prompt)
        else:
            # –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞: –ø–∞—Ä—Å–∏–Ω–≥ —á–∏—Å–ª–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞
            count = extract_number_from_text(response)
            return {"count": count, "items": [], "summary": response}
```

---

## 4. –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 4.1 –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** 100 —á–∞–Ω–∫–æ–≤ √ó 100 —Ç–æ–∫–µ–Ω–æ–≤ summary = 10K —Ç–æ–∫–µ–Ω–æ–≤ ‚Üí –Ω–µ –≤–ª–µ–∑–µ—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

**–†–µ—à–µ–Ω–∏–µ: Map-Reduce —Å—Ç–∏–ª—å**

```python
# –£—Ä–æ–≤–µ–Ω—å 1: –ì—Ä—É–ø–ø–∏—Ä—É–µ–º —á–∞–Ω–∫–∏ –ø–æ 10
chunk_results = [result1, result2, ..., result100]
groups = [chunk_results[i:i+10] for i in range(0, 100, 10)]

# –£—Ä–æ–≤–µ–Ω—å 2: –ê–≥—Ä–µ–≥–∏—Ä—É–µ–º –∫–∞–∂–¥—É—é –≥—Ä—É–ø–ø—É
intermediate_summaries = []
for group in groups:
    summary = aggregate_group(group)  # LLM –∑–∞–ø—Ä–æ—Å
    intermediate_summaries.append(summary)

# –£—Ä–æ–≤–µ–Ω—å 3: –§–∏–Ω–∞–ª—å–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è
final_result = aggregate_final(intermediate_summaries, user_question)
```

**–ü—Ä–∏–º–µ—Ä:**
- 100 —á–∞–Ω–∫–æ–≤ ‚Üí 10 –≥—Ä—É–ø–ø –ø–æ 10
- 10 –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö summaries (–∫–∞–∂–¥—ã–π ~200 —Ç–æ–∫–µ–Ω–æ–≤ = 2K —Ç–æ–∫–µ–Ω–æ–≤)
- –§–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å 2K —Ç–æ–∫–µ–Ω–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚úÖ

### 4.2 –§–æ—Ä–º–∞—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**JSON —Å—Ö–µ–º–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞:**
```json
{
  "chunk_id": 5,
  "count": 12,
  "items": ["item1", "item2"],
  "summary": "–í —á–∞–Ω–∫–µ 5 –Ω–∞–π–¥–µ–Ω–æ 12 ERROR –∑–∞–ø–∏—Å–µ–π"
}
```

**–ê–≥—Ä–µ–≥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–¥–∞ (–¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –º–µ—Ç—Ä–∏–∫):**
```python
total_count = sum(result["count"] for result in chunk_results)
all_items = [item for result in chunk_results for item in result["items"]]
```

**–ê–≥—Ä–µ–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ LLM (–¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤):**
```python
prompt = f"""
–í–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ {len(intermediate_summaries)} –≥—Ä—É–ø–ø –¥–∞–Ω–Ω—ã—Ö:

{json.dumps(intermediate_summaries, ensure_ascii=False, indent=2)}

–ò—Å—Ö–æ–¥–Ω—ã–π –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_question}

–û–±—ä–µ–¥–∏–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –¥–∞–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç.
"""
```

---

## 5. –õ–∏–º–∏—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 5.1 –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏

**–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤:** 100

```python
if total_chunks > 100:
    # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞
    chunk_size = math.ceil(total_lines / 100)

    # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    await cl.Message(
        content=f"‚ö†Ô∏è –§–∞–π–ª –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π ({total_lines} —Å—Ç—Ä–æ–∫). "
                f"–ë—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –ø–µ—Ä–≤—ã–µ {100 * chunk_size} —Å—Ç—Ä–æ–∫."
    ).send()
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** 100 —á–∞–Ω–∫–æ–≤ √ó ~5 —Å–µ–∫/—á–∞–Ω–∫ = ~8 –º–∏–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º

### 5.2 Timeout –Ω–∞ –æ–±—â–µ–µ –≤—Ä–µ–º—è

**–õ–∏–º–∏—Ç:** 5 –º–∏–Ω—É—Ç –Ω–∞ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å

```python
import asyncio

async def process_with_timeout():
    try:
        result = await asyncio.wait_for(
            process_all_chunks(),
            timeout=300  # 5 –º–∏–Ω—É—Ç
        )
        return result
    except asyncio.TimeoutError:
        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —á–∞—Å—Ç–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        return get_partial_results()
```

### 5.3 –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ù–ï –≤ v1.0** (–¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è), –Ω–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∑–≤–æ–ª—è—Ç—å:

```python
# –ë—É–¥—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
async def process_chunks_parallel(chunks, concurrency=3):
    semaphore = asyncio.Semaphore(concurrency)

    async def process_one(chunk):
        async with semaphore:
            return await call_llm(chunk)

    results = await asyncio.gather(*[process_one(c) for c in chunks])
```

---

## 6. UX –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å

### 6.1 –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä

**Chainlit streaming update:**

```python
progress_msg = await cl.Message(content="üîÑ –û–±—Ä–∞–±–æ—Ç–∫–∞...").send()

for i, chunk in enumerate(chunks):
    result = await process_chunk(chunk)

    # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
    percent = int((i + 1) / len(chunks) * 100)
    await progress_msg.update(
        content=f"üîÑ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ {i+1}/{len(chunks)} —á–∞—Å—Ç–µ–π ({percent}%)"
    )

# –§–∏–Ω–∞–ª—å–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è
await progress_msg.update(content="‚ú® –§–æ—Ä–º–∏—Ä—É—é –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç–≤–µ—Ç...")

# –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
await progress_msg.remove()
await cl.Message(content=final_answer).send()
```

### 6.2 –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–ü—Ä–∞–≤–∏–ª–æ:** –ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å –æ—Ç–º–µ–Ω—è–µ—Ç —Ç–µ–∫—É—â—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É

```python
# –ì–ª–æ–±–∞–ª—å–Ω—ã–π cancellation token
current_task = None

@cl.on_message
async def main(message):
    global current_task

    # –û—Ç–º–µ–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –∑–∞–¥–∞—á—É
    if current_task and not current_task.done():
        current_task.cancel()
        await cl.Message(content="‚ö†Ô∏è –ü—Ä–µ–¥—ã–¥—É—â–∏–π –∑–∞–ø—Ä–æ—Å –æ—Ç–º–µ–Ω—ë–Ω").send()

    # –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—É—é
    current_task = asyncio.create_task(process_question(message))
    await current_task
```

### 6.3 –°–º–µ–Ω–∞ —Ñ–∞–π–ª–∞

**–ü—Ä–∞–≤–∏–ª–æ:** –ù–æ–≤—ã–π —Ñ–∞–π–ª —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é

```python
@cl.on_message
async def handle_file_upload(elements):
    # –û—á–∏—â–∞–µ–º —Å–µ—Å—Å–∏—é
    cl.user_session.set("data", None)
    cl.user_session.set("data_format", None)

    # –û—á–∏—â–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ –≤ Chainlit)
    # ...

    await cl.Message(
        content="üìÑ –ù–æ–≤—ã–π —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω. –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ –æ—á–∏—â–µ–Ω–∞."
    ).send()
```

---

## 7. –ö—Ä–∞–µ–≤—ã–µ —Å–ª—É—á–∞–∏

### 7.1 –ú–µ–∂—á–∞–Ω–∫–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** "–°—Ä–∞–≤–Ω–∏ –æ—à–∏–±–∫–∏ –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ –ª–æ–≥–∞"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç structured summary
2. –§–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–∞–µ—Ç –í–°–ï summaries –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å

```python
# –ß–∞–Ω–∫ 1 (–Ω–∞—á–∞–ª–æ –ª–æ–≥–∞):
{"time_range": "10:00-10:30", "errors": 5}

# –ß–∞–Ω–∫ 100 (–∫–æ–Ω–µ—Ü –ª–æ–≥–∞):
{"time_range": "18:00-18:30", "errors": 12}

# –§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç:
"""
–ù–∞—á–∞–ª–æ –ª–æ–≥–∞: {"time_range": "10:00-10:30", "errors": 5}
–ö–æ–Ω–µ—Ü –ª–æ–≥–∞: {"time_range": "18:00-18:30", "errors": 12}

–í–æ–ø—Ä–æ—Å: –°—Ä–∞–≤–Ω–∏ –æ—à–∏–±–∫–∏ –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ –ª–æ–≥–∞
–û—Ç–≤–µ—Ç: –í –∫–æ–Ω—Ü–µ –ª–æ–≥–∞ –æ—à–∏–±–æ–∫ –±–æ–ª—å—à–µ (12 vs 5), —Ä–æ—Å—Ç –Ω–∞ 140%
"""
```

### 7.2 –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥

**–ü—Ä–æ–±–ª–µ–º–∞:** "–ü–æ–∫–∞–∂–∏ –í–°–ï –∑–∞–ø–∏—Å–∏ —Å user_id=123"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
2. –§–∏–Ω–∞–ª –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏

```python
# –ö–∞–∂–¥—ã–π —á–∞–Ω–∫:
{
  "count": 3,
  "items": [
    {"timestamp": "10:05", "user_id": 123, "action": "login"},
    ...
  ]
}

# –§–∏–Ω–∞–ª—å–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è:
all_items = []
for result in chunk_results:
    all_items.extend(result["items"])

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞
if len(all_items) > 100:
    await cl.Message(
        content=f"‚ö†Ô∏è –ù–∞–π–¥–µ–Ω–æ {len(all_items)} –∑–∞–ø–∏—Å–µ–π. –ü–æ–∫–∞–∑—ã–≤–∞—é –ø–µ—Ä–≤—ã–µ 100."
    ).send()
```

---

## 8. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

### 8.1 –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```python
# chunking.py

def should_use_chunking(file_data: Dict) -> bool:
    """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω–∞ –ª–∏ chunked-–æ–±—Ä–∞–±–æ—Ç–∫–∞"""
    line_count = file_data.get("line_count", 0)
    return line_count > 1000

def calculate_chunk_size(total_lines: int) -> int:
    """–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞"""
    if total_lines > 50_000:
        return 1000
    return 500

def chunk_data(file_data: Dict, chunk_size: int) -> List[Dict]:
    """–†–∞–∑–±–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —á–∞–Ω–∫–∏ —Å —É—á—ë—Ç–æ–º —Ñ–æ—Ä–º–∞—Ç–∞"""
    fmt = file_data["format"]

    if fmt == "csv":
        return chunk_csv(file_data, chunk_size)
    elif fmt == "json":
        return chunk_json(file_data, chunk_size)
    elif fmt == "log":
        return chunk_log(file_data, chunk_size)

def build_chunk_prompt(chunk: Dict, question: str, chunk_num: int, total: int) -> str:
    """–°–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–¥–Ω–æ–≥–æ —á–∞–Ω–∫–∞"""
    # ...

async def process_chunk(chunk: Dict, question: str) -> Dict:
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–¥–∏–Ω —á–∞–Ω–∫ —á–µ—Ä–µ–∑ LLM"""
    # ...

async def aggregate_results(chunk_results: List[Dict], question: str) -> str:
    """–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"""
    # ...
```

### 8.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ app.py

```python
@cl.on_message
async def main(message: cl.Message):
    data = cl.user_session.get("data")
    question = message.content

    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
    if should_use_chunking(data):
        # Chunked-–æ–±—Ä–∞–±–æ—Ç–∫–∞
        chunk_size = calculate_chunk_size(data["line_count"])
        chunks = chunk_data(data, chunk_size)

        # –ü—Ä–æ–≥—Ä–µ—Å—Å
        progress_msg = await cl.Message(
            content=f"üîÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ {len(chunks)} —á–∞—Å—Ç–µ–π..."
        ).send()

        # –û–±—Ä–∞–±–æ—Ç–∫–∞
        chunk_results = []
        for i, chunk in enumerate(chunks):
            result = await process_chunk(chunk, question)
            chunk_results.append(result)

            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            percent = int((i + 1) / len(chunks) * 100)
            await progress_msg.update(
                content=f"üîÑ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ {i+1}/{len(chunks)} ({percent}%)"
            )

        # –ê–≥—Ä–µ–≥–∞—Ü–∏—è
        await progress_msg.update(content="‚ú® –§–æ—Ä–º–∏—Ä—É—é –∏—Ç–æ–≥...")
        answer = await aggregate_results(chunk_results, question)

        await progress_msg.remove()
    else:
        # –û–±—ã—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–∫–∞–∫ —Å–µ–π—á–∞—Å)
        answer = call_ollama(build_analysis_prompt(data, question))

    await cl.Message(content=answer).send()
```

---

## 9. –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 9.1 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
import logging

logger.info(f"Chunking: {len(chunks)} chunks, size={chunk_size}")
logger.info(f"Chunk {i}/{total} processed in {elapsed:.2f}s")
logger.info(f"Total processing time: {total_time:.2f}s")
logger.warning(f"LLM retry for chunk {i}: {reason}")
```

### 9.2 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```python
# –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ —Å–µ—Å—Å–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
cl.user_session.set("processing_stats", {
    "total_chunks": len(chunks),
    "chunk_size": chunk_size,
    "total_time": total_time,
    "retries": retry_count,
    "aggregation_levels": 2
})
```

---

## 10. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Phase 1: –ë–∞–∑–æ–≤—ã–π chunking (MVP)
- [ ] –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–∑–±–∏–µ–Ω–∏—è –Ω–∞ —á–∞–Ω–∫–∏ (LOG, CSV, JSON)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ —á–∞–Ω–∫–∞ —Å —Å—Ç—Ä–æ–≥–∏–º JSON
- [ ] –ü—Ä–æ—Å—Ç–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è (—Å—É–º–º–∞ –≤ –∫–æ–¥–µ)
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä

### Phase 2: –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è
- [ ] –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ LLM
- [ ] Retry –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON
- [ ] Few-shot –ø—Ä–∏–º–µ—Ä—ã –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö

### Phase 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤
- [ ] Timeout –∏ –ª–∏–º–∏—Ç—ã
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–∞–µ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤ (–º–µ–∂—á–∞–Ω–∫–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)

### Phase 4: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ–∏—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞–Ω–∫–æ–≤
- [ ] Streaming –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –ú—É–ª—å—Ç–∏-—Ñ–∞–π–ª–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑

---

## 11. –†–∏—Å–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 11.1 –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ú–µ–∂—á–∞–Ω–∫–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –í–æ–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—â–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç–µ–π —Ñ–∞–π–ª–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –º–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–º–∏
2. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å LLM:** –ú–∞–ª–µ–Ω—å–∫–∞—è –º–æ–¥–µ–ª—å (0.5b) –º–æ–∂–µ—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å JSON
3. **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 100 —á–∞–Ω–∫–æ–≤ √ó 5 —Å–µ–∫ = ~8 –º–∏–Ω—É—Ç –¥–ª—è –æ–≥—Ä–æ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
4. **–ü–∞–º—è—Ç—å:** JSON —Ñ–∞–π–ª—ã –ø–∞—Ä—Å—è—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –ø–∞–º—è—Ç—å

### 11.2 –ú–∏tigations

1. **Structured summaries:** –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç structured data –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
2. **Retry + validation:** –î–æ 2 retry —Å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏
3. **Timeouts + limits:** –ú–∞–∫—Å–∏–º—É–º 100 —á–∞–Ω–∫–æ–≤, 5 –º–∏–Ω—É—Ç timeout
4. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π chunking:** –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

---

## 12. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–¥—Å—á—ë—Ç –æ—à–∏–±–æ–∫ –≤ –±–æ–ª—å—à–æ–º –ª–æ–≥–µ

**–§–∞–π–ª:** 50,000 —Å—Ç—Ä–æ–∫ –ª–æ–≥–∞
**–í–æ–ø—Ä–æ—Å:** "–°–∫–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫ ERROR –≤ –ª–æ–≥–µ?"

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ 100 —á–∞–Ω–∫–æ–≤ –ø–æ 500 —Å—Ç—Ä–æ–∫
2. –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"count": N}`
3. –ö–æ–¥ —Å—É–º–º–∏—Ä—É–µ—Ç: `total = sum(results)`
4. –û—Ç–≤–µ—Ç: "–ù–∞–π–¥–µ–Ω–æ 1,247 –æ—à–∏–±–æ–∫ ERROR"

**–í—Ä–µ–º—è:** ~7 –º–∏–Ω—É—Ç (100 —á–∞–Ω–∫–æ–≤ √ó 4 —Å–µ–∫)

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑ CSV —Å 100K —Å—Ç—Ä–æ–∫

**–§–∞–π–ª:** CSV —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ–¥–∞–∂, 100,000 —Å—Ç—Ä–æ–∫
**–í–æ–ø—Ä–æ—Å:** "–ö–∞–∫–∞—è —Å—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞?"

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ 100 —á–∞–Ω–∫–æ–≤ –ø–æ 1000 —Å—Ç—Ä–æ–∫ (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä)
2. –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"sum": X, "count": Y}`
3. –ö–æ–¥ –≤—ã—á–∏—Å–ª—è–µ—Ç: `avg = sum(sums) / sum(counts)`
4. LLM —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç: "–°—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞: $145.67"

**–í—Ä–µ–º—è:** ~6 –º–∏–Ω—É—Ç

### –ü—Ä–∏–º–µ—Ä 3: –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

**–§–∞–π–ª:** –õ–æ–≥ –∑–∞ 24 —á–∞—Å–∞, 30,000 —Å—Ç—Ä–æ–∫
**–í–æ–ø—Ä–æ—Å:** "–°—Ä–∞–≤–Ω–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ —É—Ç—Ä–æ–º –∏ –≤–µ—á–µ—Ä–æ–º"

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. 60 —á–∞–Ω–∫–æ–≤ –ø–æ 500 —Å—Ç—Ä–æ–∫
2. –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"time_range": "...", "errors": N}`
3. –§–∏–Ω–∞–ª—å–Ω—ã–π LLM –∑–∞–ø—Ä–æ—Å –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç
4. –û—Ç–≤–µ—Ç: "–£—Ç—Ä–æ–º (06:00-12:00): 45 –æ—à–∏–±–æ–∫, –í–µ—á–µ—Ä–æ–º (18:00-00:00): 78 –æ—à–∏–±–æ–∫. –†–æ—Å—Ç –Ω–∞ 73%"

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç—É:** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:** Retry, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –ª–∏–º–∏—Ç—ã
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è, –¥–æ 100K+ —Å—Ç—Ä–æ–∫
‚úÖ **UX:** –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä, –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CSV, JSON, LOG —Å —É—á—ë—Ç–æ–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏

**–ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã:**
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–¥–æ 8 –º–∏–Ω—É—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤)
- –ü–æ—Ç–µ—Ä—è –º–µ–∂—á–∞–Ω–∫–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (—Ä–µ—à–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ structured summaries)
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ LLM (—Ä–µ—à–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ retry)
