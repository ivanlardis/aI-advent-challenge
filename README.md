## –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è —Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –≤—ã–≤–æ–¥–æ–º (Chainlit + LangChain)

–ß–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Chainlit –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM —á–µ—Ä–µ–∑ OpenRouter. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- `app/chainlit_app.py` ‚Äî –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Chainlit (—Ö—É–∫–∏ —á–∞—Ç–∞).
- `app/langchain_client.py` ‚Äî —Å–±–æ—Ä–∫–∞ LangChain-—Ü–µ–ø–æ—á–∫–∏, –æ–±—Ä–∞—â–∞—é—â–µ–π—Å—è –∫ OpenRouter.
- `Dockerfile` ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Chainlit.

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `OPENROUTER_API_KEY` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî —Ç–æ–∫–µ–Ω —Å https://openrouter.ai.
- `OPENROUTER_MODEL` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî ID –º–æ–¥–µ–ª–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `tngtech/deepseek-r1t2-chimera:free`.
- `OPENROUTER_BASE_URL` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –±–∞–∑–æ–≤—ã–π URL, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `https://openrouter.ai/api/v1`.

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
pip install -r requirements.txt
OPENROUTER_API_KEY=... chainlit run app/chainlit_app.py --host 0.0.0.0 --port 8000 --headless
```
–û—Ç–∫—Ä—ã—Ç—å http://localhost:8000 –∏ –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥.

### Docker
```bash
docker build -t lardis .
docker run -d -p 38542:8000 \
  -e OPENROUTER_API_KEY=... \
  lardis
```

### –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏
- Chainlit UI, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç —Ü–µ–ø–æ—á–∫—É –≤ —Å–µ—Å—Å–∏–∏ –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.
- LangChain —Ü–µ–ø–æ—á–∫–∞ (prompt ‚Üí ChatOpenAI ‚Üí JsonOutputParser) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π JSON.
- –ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: sentiment, confidence, keywords, summary.
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∞—è —Å–±–æ—Ä–∫–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ GHCR –∏ –∑–∞–ø—É—Å–∫—É –Ω–∞ VPS.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–¥
- `build_chain()` –≤ `app/langchain_client.py`:
  - –°–æ–∑–¥–∞–µ—Ç `JsonOutputParser` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ JSON
  - –ü—Ä–æ–º–ø—Ç —Å `{format_instructions}` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø–∞—Ä—Å–µ—Ä–æ–º)
  - –ò–Ω—Å—Ç—Ä—É–∫—Ç–∏—Ä—É–µ—Ç LLM –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å JSON —Å –ø–æ–ª—è–º–∏: sentiment, confidence, keywords, summary
- Chainlit-—Ö—É–∫–∏ –≤ `app/chainlit_app.py`:
  - `on_chat_start` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ü–µ–ø–æ—á–∫—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
  - `on_message` ‚Äî –ø–æ–ª—É—á–∞–µ—Ç dict –æ—Ç JsonOutputParser, —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å —ç–º–æ–¥–∂–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Å—ã—Ä—ã–º JSON
- `JsonOutputParser` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  - –î–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É –≤ –ø—Ä–æ–º–ø—Ç
  - –ü–∞—Ä—Å–∏—Ç JSON –∏–∑ –æ—Ç–≤–µ—Ç–∞ LLM
  - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –õ—é–±—ã–µ –æ—à–∏–±–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–í—Ö–æ–¥:** "–°–µ–≥–æ–¥–Ω—è –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –¥–µ–Ω—å! –Ø –ø–æ–ª—É—á–∏–ª –ø–æ–≤—ã—à–µ–Ω–∏–µ –∏ –æ—á–µ–Ω—å —Ä–∞–¥!"

**–í—ã–≤–æ–¥:**
```
## –ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è üòä

–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: positive
–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 95%
–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π, –ø–æ–≤—ã—à–µ–Ω–∏–µ, —Ä–∞–¥

–°–∏–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —ç–º–æ—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∫–∞—Ä—å–µ—Ä–Ω—ã–º —É—Å–ø–µ—Ö–æ–º

---
{
  "sentiment": "positive",
  "confidence": 0.95,
  "keywords": ["–ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π", "–ø–æ–≤—ã—à–µ–Ω–∏–µ", "—Ä–∞–¥"],
  "summary": "–°–∏–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —ç–º–æ—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∫–∞—Ä—å–µ—Ä–Ω—ã–º —É—Å–ø–µ—Ö–æ–º"
}
```
