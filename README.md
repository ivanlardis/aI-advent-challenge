# Project Starter CLI

CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è Kotlin pet-–ø—Ä–æ–µ–∫—Ç–æ–≤/MVP —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º CI/CD –∏ –¥–µ–ø–ª–æ–µ–º –Ω–∞ VPS.

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Ä—É—Ç–∏–Ω—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:
- –°–æ–∑–¥–∞—ë—Ç GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Ktor –ø—Ä–æ–µ–∫—Ç –∏–∑ —à–∞–±–ª–æ–Ω–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç GitHub Secrets
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç VPS (Docker + SSH –∫–ª—é—á–∏)
- –î–µ–ø–ª–æ–∏—Ç —á–µ—Ä–µ–∑ GitHub Actions

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- JDK 17+
- GitHub Personal Access Token (scopes: `repo`, `workflow`)
- VPS —Å SSH –¥–æ—Å—Ç—É–ø–æ–º (root –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å sudo)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –°–±–æ—Ä–∫–∞
gradle shadowJar

# JAR –±—É–¥–µ—Ç –≤ build/libs/project-starter-1.0.0-all.jar
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

```bash
java -jar build/libs/project-starter-1.0.0-all.jar create
```

CLI –∑–∞–¥–∞—Å—Ç –≤–æ–ø—Ä–æ—Å—ã:
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- –û–ø–∏—Å–∞–Ω–∏–µ (–¥–ª—è GitHub)
- VPS —Ö–æ—Å—Ç
- VPS –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- VPS –ø–∞—Ä–æ–ª—å
- GitHub token

### –ü—Ä–∏–º–µ—Ä

```bash
$ java -jar project-starter.jar create

? –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: My Awesome App
? –û–ø–∏—Å–∞–Ω–∏–µ (–¥–ª—è GitHub): My first Kotlin MVP
? VPS —Ö–æ—Å—Ç: 192.168.1.100
? VPS –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (root): root
? VPS –ø–∞—Ä–æ–ª—å: ********
? GitHub token: *****************************************

üîç –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤...
‚úì –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–π–¥–µ–Ω–∞

üì¶ –°–æ–∑–¥–∞—ë–º GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π...
‚úì GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω: github.com/username/my-awesome-app

üìù –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç –∏–∑ —à–∞–±–ª–æ–Ω–∞...
‚úì –ü—Ä–æ–µ–∫—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω

üîê –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º GitHub Secrets...
‚úì GitHub Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

‚öôÔ∏è  –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º VPS...
  ‚úì Docker —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
  ‚úì SSH –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω
‚úì VPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω

üì§ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–¥ –≤ GitHub...
‚úì –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ GitHub

üöÄ –ì–æ—Ç–æ–≤–æ! –í–∞—à –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://192.168.1.100 —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã

üìã –°—Å—ã–ª–∫–∏:
  ‚Ä¢ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/username/my-awesome-app
  ‚Ä¢ –î–µ–π—Å—Ç–≤–∏—è: https://github.com/username/my-awesome-app/actions
```

## –ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

```
my-awesome-app/
‚îú‚îÄ‚îÄ src/main/kotlin/Application.kt    # Ktor –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ Dockerfile                         # App –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îú‚îÄ‚îÄ docker-compose.yml                 # App + DB + Nginx
‚îú‚îÄ‚îÄ nginx.conf                         # Reverse proxy
‚îú‚îÄ‚îÄ build.gradle.kts                   # Gradle –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ .github/workflows/deploy.yml       # CI/CD
‚îî‚îÄ‚îÄ README.md                          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Ktor 2.x + Exposed + Kotlinx-html
- **Database**: PostgreSQL 15
- **Proxy**: Nginx
- **CI/CD**: GitHub Actions (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π)

### GitHub Actions

–î–µ–ø–ª–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º push:

1. Build: –°–±–æ—Ä–∫–∞ Docker image
2. Deploy: SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPS ‚Üí `docker compose up -d`

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ CLI

```
Project Starter CLI
‚îú‚îÄ‚îÄ –®–∞–±–ª–æ–Ω—ã (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã)
‚îú‚îÄ‚îÄ GitHub API –∫–ª–∏–µ–Ω—Ç (Ktor)
‚îú‚îÄ‚îÄ VPS SSH –∫–ª–∏–µ–Ω—Ç (SSHJ)
‚îî‚îÄ‚îÄ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π UI (Clikt)
```

**–ü–∞–π–ø–ª–∞–π–Ω**:
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (GitHub token, VPS –¥–æ—Å—Ç—É–ø)
2. –°–æ–∑–¥–∞–Ω–∏–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ —à–∞–±–ª–æ–Ω–∞
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets (VPS_HOST, VPS_USER, SSH_PRIVATE_KEY)
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VPS (Docker + SSH –∫–ª—é—á–∏)
6. Git push –≤ GitHub
7. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–û—Ç–¥–µ–ª—å–Ω—ã–µ SSH –∫–ª—é—á–∏** –Ω–∞ –∫–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç
- **GitHub Secrets** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## Troubleshooting

### –û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ GitHub token:
- –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π
- –ò–º–µ–µ—Ç scope `repo`

### –û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ VPS

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –•–æ—Å—Ç –∏ –ø–æ—Ä—Ç VPS
- SSH –¥–æ—Å—Ç—É–ø–µ–Ω (–ø–æ—Ä—Ç 22)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –ø–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–µ

### –û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –≤—Ä—É—á–Ω—É—é:
```bash
curl -fsSL https://get.docker.com | sh
systemctl enable docker
systemctl start docker
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```kotlin
// CLI
implementation("com.github.ajalt.clikt:clikt:4.2.0")

// GitHub API
implementation("io.ktor:ktor-client-core:2.3.4")
implementation("io.ktor:ktor-client-cio:2.3.4")

// SSH
implementation("com.hierynomus:sshj:0.38.0")

// Coroutines
implementation("org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.3")
```

### –°–±–æ—Ä–∫–∞

```bash
gradle shadowJar
```

### –ó–∞–ø—É—Å–∫

```bash
java -jar build/libs/project-starter-1.0.0-all.jar create
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞: [SPEC.md](SPEC.md)

---

**–ó–∞–¥–∞—á–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∞**: –ï—Å—Ç—å –ø–∞–π–ø–ª–∞–π–Ω (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑-–∑–∞ –∫–ª—é—á–µ–π) ‚úÖ

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ Kotlin –ø—Ä–æ–µ–∫—Ç–æ–≤ –æ—Ç –∏–¥–µ–∏ –¥–æ production –∑–∞ –º–∏–Ω—É—Ç—ã üöÄ
